function _defineProperties(l,n){for(var e=0;e<n.length;e++){var u=n[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5PDx":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J"),t=function l(){_classCallCheck(this,l)},o=e("pMnS"),i=e("MKJQ"),a=e("sZkV"),r=e("SVse"),s=e("lGQG"),c=e("sjK5"),b=e("rKbp"),f=e("+/my"),h=function(){function l(n,e,u,t,o,i){_classCallCheck(this,l),this.nav=n,this.router=e,this.firebaseAuthService=u,this.chatService=t,this.cameraPreview=o,this.videocallSVC=i,this.users=[],this.Users=[],this.llamando=!1}return _createClass(l,[{key:"ngOnInit",value:function(){this.user=JSON.parse(sessionStorage.getItem("user")),this.getUser(),this.getCalls()}},{key:"getUsers",value:function(){var l=this;this.chatService.getUsers().orderByChild("type").equalTo("User").on("value",(function(n){var e,u=(e=[],n.forEach((function(l){var n=l.val();n.key=l.key,e.push(n)})),e);console.log(u),l.users=u,l.users=l.users.filter((function(n){return n.uid!=l.firebaseAuthService.usersign.uid}))}))}},{key:"openCall",value:function(l){var n={user:this.user,usercall:l,type:"caller"},e={queryParams:{special:JSON.stringify(n)}};console.log(n,"DATA"),this.videocallSVC.newcall(this.user,l),this.router.navigate(["call"],e)}},{key:"getUser",value:function(){var l=this;this.videocallSVC.getUsers().on("value",(function(n){l.Users=[],n.forEach((function(n){var e=n.val();e.key=n.key,e.key!=l.user.uid&&(console.log(e),console.log(l.user),l.videocallSVC.getRel(l.user,e.key).once("value",(function(n){console.log(n),console.log(n.val()),e.selected=n.val(),n.val()&&l.Users.push(e)})))})),console.log(l.Users)}))}},{key:"getCalls",value:function(){var l=this;this.videocallSVC.getCalls(this.user).on("value",(function(n){console.log(n.val()),n.forEach((function(n){console.log(n.key),l.videocallSVC.getCall(n.key).on("value",(function(n){if(console.log(n.val()),n.val().state){l.llamando=!0,l.keycall=n.val().channel;for(var e=Object.keys(n.val().Members),u=0;u<e.length;u++)e[u]!=l.user.uid&&l.videocallSVC.getUser(e[u]).once("value",(function(n){l.usercall=n.val(),console.log(l.usercall)}))}else l.llamando=!1}))}))}))}},{key:"resVideoCall",value:function(){var l={user:this.user,usercall:this.usercall,type:"answer"},n={queryParams:{special:JSON.stringify(l)}};this.videocallSVC.keycall=this.keycall,this.videocallSVC.answerccall(this.user,this.keycall),console.log(l,"DATA"),this.router.navigate(["call"],n)}}]),l}(),d=e("iInd"),v=u.pb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]{color:var(--ion-color-primary-dark)}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{color:var(--ion-color-primary-dark);text-align:center;font-size:18px;font-family:sfUi-m;text-transform:capitalize}"]],data:{}});function m(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,3,"ion-fab-button",[["class","call-green"],["d",""]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.resVideoCall()&&u),u}),i.Z,i.m)),u.qb(1,49152,null,0,a.x,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,1,"ion-icon",[["name","call-outline"]],null,null,null,i.fb,i.r)),u.qb(3,49152,null,0,a.C,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,3,0,"call-outline")}),null)}function k(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,10,"ion-item",[["lines","full"],["mode","md"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.openCall(l.context.$implicit)&&u),u}),i.hb,i.t)),u.qb(1,49152,null,0,a.H,[u.h,u.k,u.x],{lines:[0,"lines"],mode:[1,"mode"]},null),(l()(),u.rb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,i.P,i.b)),u.qb(3,49152,null,0,a.f,[u.h,u.k,u.x],null,null),(l()(),u.rb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),u.rb(5,0,null,0,5,"ion-label",[],null,null,null,i.ib,i.u)),u.qb(6,49152,null,0,a.N,[u.h,u.k,u.x],null,null),(l()(),u.rb(7,0,null,0,1,"h3",[["class","name"]],null,null,null,null,null)),(l()(),u.Kb(8,null,["",""])),(l()(),u.rb(9,0,null,0,1,"p",[["class","detail"]],null,null,null,null,null)),(l()(),u.Kb(10,null,["",""]))],(function(l,n){l(n,1,0,"full","md")}),(function(l,n){l(n,4,0,null==n.context.$implicit?null:n.context.$implicit.photoUrl),l(n,8,0,null==n.context.$implicit?null:n.context.$implicit.displayName),l(n,10,0,null==n.context.$implicit?null:n.context.$implicit.email)}))}function g(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,15,"ion-header",[["class","ion-no-border"]],null,null,null,i.eb,i.q)),u.qb(1,49152,null,0,a.B,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,13,"ion-toolbar",[["mode","md"]],null,null,null,i.Bb,i.N)),u.qb(3,49152,null,0,a.zb,[u.h,u.k,u.x],{mode:[0,"mode"]},null),(l()(),u.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.T,i.f)),u.qb(5,49152,null,0,a.l,[u.h,u.k,u.x],null,null),(l()(),u.rb(6,0,null,0,2,"ion-back-button",[["defaultHref","home"],["icon","chevron-back-outline"],["mode","md"],["text",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,8).onClick(e)&&t),t}),i.Q,i.c)),u.qb(7,49152,null,0,a.g,[u.h,u.k,u.x],{defaultHref:[0,"defaultHref"],icon:[1,"icon"],mode:[2,"mode"],text:[3,"text"]},null),u.qb(8,16384,null,0,a.h,[[2,a.fb],a.Gb,a.d],{defaultHref:[0,"defaultHref"]},null),(l()(),u.rb(9,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,i.T,i.f)),u.qb(10,49152,null,0,a.l,[u.h,u.k,u.x],null,null),(l()(),u.rb(11,0,null,0,1,"ion-menu-button",[],null,null,null,i.lb,i.y)),u.qb(12,49152,null,0,a.R,[u.h,u.k,u.x],null,null),(l()(),u.rb(13,0,null,0,2,"ion-title",[],null,null,null,i.zb,i.L)),u.qb(14,49152,null,0,a.xb,[u.h,u.k,u.x],null,null),(l()(),u.Kb(-1,0,["Video call"])),(l()(),u.rb(16,0,null,null,6,"ion-content",[["class","ion-padding-bottom"]],null,null,null,i.X,i.j)),u.qb(17,49152,null,0,a.u,[u.h,u.k,u.x],null,null),(l()(),u.rb(18,0,null,0,4,"div",[["class","today_div"]],null,null,null,null,null)),(l()(),u.gb(16777216,null,null,1,null,m)),u.qb(20,16384,null,0,r.k,[u.O,u.K],{ngIf:[0,"ngIf"]},null),(l()(),u.gb(16777216,null,null,1,null,k)),u.qb(22,278528,null,0,r.j,[u.O,u.K,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"md"),l(n,7,0,"home","chevron-back-outline","md",""),l(n,8,0,"home"),l(n,20,0,e.llamando),l(n,22,0,e.Users)}),null)}var p=u.nb("app-call-list",h,(function(l){return u.Mb(0,[(l()(),u.rb(0,0,null,null,1,"app-call-list",[],null,null,null,g,v)),u.qb(1,114688,null,0,h,[a.Gb,d.m,s.a,c.a,b.a,f.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),y=e("s7LF"),C=function l(){_classCallCheck(this,l)};e.d(n,"CallUsersListPageModuleNgFactory",(function(){return x}));var x=u.ob(t,[],(function(l){return u.zb([u.Ab(512,u.j,u.Z,[[8,[o.a,p]],[3,u.j],u.v]),u.Ab(4608,r.m,r.l,[u.s,[2,r.v]]),u.Ab(4608,y.o,y.o,[]),u.Ab(4608,a.b,a.b,[u.x,u.g]),u.Ab(4608,a.Fb,a.Fb,[a.b,u.j,u.p]),u.Ab(4608,a.Jb,a.Jb,[a.b,u.j,u.p]),u.Ab(1073742336,r.c,r.c,[]),u.Ab(1073742336,y.n,y.n,[]),u.Ab(1073742336,y.e,y.e,[]),u.Ab(1073742336,a.Bb,a.Bb,[]),u.Ab(1073742336,d.o,d.o,[[2,d.t],[2,d.m]]),u.Ab(1073742336,C,C,[]),u.Ab(1073742336,t,t,[]),u.Ab(1024,d.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);