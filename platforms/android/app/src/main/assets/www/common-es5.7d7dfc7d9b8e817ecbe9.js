function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function asyncGeneratorStep(e,t,r,n,a,s,i){try{var u=e[s](i),o=u.value}catch(c){return void r(c)}u.done?t(o):Promise.resolve(o).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function i(e){asyncGeneratorStep(s,n,a,i,u,"next",e)}function u(e){asyncGeneratorStep(s,n,a,i,u,"throw",e)}i(void 0)}))}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6i10":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n={bubbles:{dur:1e3,circles:9,fn:function(e,t,r){var n="".concat(e*t/r-e,"ms"),a=2*Math.PI*t/r;return{r:5,style:{top:"".concat(9*Math.sin(a),"px"),left:"".concat(9*Math.cos(a),"px"),"animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:function(e,t,r){var n=t/r,a="".concat(e*n-e,"ms"),s=2*Math.PI*n;return{r:5,style:{top:"".concat(9*Math.sin(s),"px"),left:"".concat(9*Math.cos(s),"px"),"animation-delay":a}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){return{r:6,style:{left:"".concat(9-9*t,"px"),"animation-delay":-110*t+"ms"}}}},lines:{dur:1e3,lines:12,fn:function(e,t,r){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/r-e,"ms")}}}},"lines-small":{dur:1e3,lines:12,fn:function(e,t,r){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/r-e,"ms")}}}}}},IPXs:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r("8Y7J");r("LSHg");var a=n.ob({encapsulation:0,styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"],data:{}});function s(e){return n.Mb(0,[(e()(),n.qb(0,0,null,null,0,"div",[["class","agm-map-container-inner sebm-google-map-container-inner"]],null,null,null,null,null)),(e()(),n.qb(1,0,null,null,1,"div",[["class","agm-map-content"]],null,null,null,null,null)),n.Bb(null,0)],null,null)}},KwJk:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return u}));var n=function(e,t){return null!==t.closest(e)},a=function(e){return"string"==typeof e&&e.length>0?_defineProperty({"ion-color":!0},"ion-color-".concat(e),!0):void 0},s=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter((function(e){return null!=e})).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}(e).forEach((function(e){return t[e]=!0})),t},i=/^[a-z][a-z0-9+\-.]*:/,u=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||i.test(t)){e.next=4;break}if(!(a=document.querySelector("ion-router"))){e.next=4;break}return e.abrupt("return",(null!=r&&r.preventDefault(),a.push(t,n)));case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},NqGI:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n,a,s){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(r,n,s,a));case 2:if("string"==typeof n||n instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:if(i="string"==typeof n?r.ownerDocument&&r.ownerDocument.createElement(n):n,a&&a.forEach((function(e){return i.classList.add(e)})),s&&Object.assign(i,s),r.appendChild(i),e.t0=i.componentOnReady,!e.t0){e.next=12;break}return e.next=12,i.componentOnReady();case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),a=function(e,t){if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},Oz3r:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("lGQG"),a=r("JZFu"),s=r("8Y7J"),i=function(){var e=function(){function e(t){_classCallCheck(this,e),this.firebaseAuthService=t}return _createClass(e,[{key:"getAppointment",value:function(e){return a.a.database().ref("Appointments").child(e)}},{key:"updateAppointment",value:function(e,t){return a.a.database().ref("Appointments").child(e).update(t)}},{key:"getAppointments",value:function(){return a.a.database().ref("Appointments/").orderByChild("userID").equalTo(this.firebaseAuthService.usersign.uid)}},{key:"postAppointment",value:function(e){var t=this.firebaseAuthService.usersign.uid+"_"+Date.now();a.a.database().ref("/Appointments/"+t).set(e)}}]),e}();return e.ngInjectableDef=s.Qb({factory:function(){return new e(s.Rb(n.a))},token:e,providedIn:"root"}),e}()},TPCJ:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r("lGQG"),r("sjK5");var n=function(e){var t=[];return e.forEach((function(e){var r=e.val();r.key=e.key,t.push(r)})),t},a=function(){function e(t,r,n,a){_classCallCheck(this,e),this.nav=t,this.router=r,this.firebaseAuthService=n,this.chatService=a,this.users=[],this.chats=[],this.group=!1,this.groupusers=[],this.usersDBRef=this.firebaseAuthService.firebaseDB.collection("messages")}return _createClass(e,[{key:"ngOnInit",value:function(){this.getUsers()}},{key:"getUsers",value:function(){var e=this;this.chatService.getUsers().orderByChild("type").equalTo("User").on("value",(function(t){var r=n(t);console.log(r),e.users=r,e.users=e.users.filter((function(t){return t.uid!=e.firebaseAuthService.usersign.uid}))}))}},{key:"openChat",value:function(e){var t=this;this.group||(console.log(e.uid),this.chatService.getChat().orderByChild(e.uid).equalTo("true").once("value",(function(r){console.log(r);var a=n(r);if(console.log(a),a.length>0)a.forEach((function(r){console.log(r);var n=Object.keys(r).filter((function(e){return e!=t.firebaseAuthService.usersign.uid&&"key"!=e}));if(console.log(n),1==n.length)localStorage.setItem("user2",JSON.stringify(e)),localStorage.setItem("idchat",a[0].key),t.nav.navigateForward("/chat");else{localStorage.setItem("user2",JSON.stringify(e));var s=t.chatService.newChat(e);localStorage.setItem("idchat",s),t.nav.navigateForward("/chat")}}));else{localStorage.setItem("user2",JSON.stringify(e));var s=t.chatService.newChat(e);localStorage.setItem("idchat",s),t.nav.navigateForward("/chat")}})))}},{key:"openChatGroup",value:function(){console.log(this.users),this.groupusers=this.users.filter((function(e){return 0!=e.isChecked&&e.isChecked})),console.log(this.groupusers),localStorage.setItem("users2",JSON.stringify({displayName:"chatGroup"}));var e=this.chatService.newChatGroup(this.groupusers);localStorage.setItem("idchat",e),this.nav.navigateForward("/chat")}}]),e}()},Uwmq:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){try{if("string"!=typeof e||""===e)return e;var t=document.createDocumentFragment(),r=document.createElement("div");t.appendChild(r),r.innerHTML=e,u.forEach((function(e){for(var r=t.querySelectorAll(e),n=r.length-1;n>=0;n--){var i=r[n];i.parentNode?i.parentNode.removeChild(i):t.removeChild(i);for(var u=s(i),o=0;o<u.length;o++)a(u[o])}}));for(var n=s(t),i=0;i<n.length;i++)a(n[i]);var o=document.createElement("div");o.appendChild(t);var c=o.querySelector("div");return null!==c?c.innerHTML:o.innerHTML}catch(l){return console.error(l),""}},a=function e(t){if(!t.nodeType||1===t.nodeType){for(var r=t.attributes.length-1;r>=0;r--){var n=t.attributes.item(r),a=n.name;if(i.includes(a.toLowerCase())){var u=n.value;null!=u&&u.toLowerCase().includes("javascript:")&&t.removeAttribute(a)}else t.removeAttribute(a)}for(var o=s(t),c=0;c<o.length;c++)e(o[c])}},s=function(e){return null!=e.children?e.children:e.childNodes},i=["class","id","href","src","name","slot"],u=["script","style","iframe","meta","link","object","embed"]},dDfN:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=e.split(":"),r=t[0];return r>=12?e+" PM":"00"==r?"12:"+t[1]+"AM":e+" AM"}}]),e}()},fzvj:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return n}));var n=function(){var e=window.TapticEngine;e&&e.selection()},a=function(){var e=window.TapticEngine;e&&e.gestureSelectionStart()},s=function(){var e=window.TapticEngine;e&&e.gestureSelectionChanged()},i=function(){var e=window.TapticEngine;e&&e.gestureSelectionEnd()}},pWLV:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r("8Y7J"),a=(r("KJxK"),r("SVse"),r("LSHg"),n.ob({encapsulation:2,styles:[],data:{}}));function s(e){return n.Mb(0,[n.Ib(402653184,1,{template:0}),(e()(),n.qb(1,0,[[1,0],["content",1]],null,2,"div",[],null,null,null,null,null)),(e()(),n.qb(2,0,null,null,1,"div",[["style","position:absolute"]],null,null,null,null,null)),n.Bb(null,0)],null,null)}},sjK5:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("lGQG"),a=r("XNiG"),s=r("JZFu"),i=r("8Y7J"),u=function(){var e=function(){function e(t){_classCallCheck(this,e),this.firebaseAuthService=t,this.subject=new a.a,this.chatsUsers=[],this.users=[]}return _createClass(e,[{key:"getUserChats",value:function(){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/")}},{key:"getChatsMembers",value:function(e){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/"+e)}},{key:"getChats",value:function(){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/chats/")}},{key:"getUser",value:function(e){return s.a.database().ref("Users/"+e)}},{key:"getUsers",value:function(){return s.a.database().ref("Users/")}},{key:"getChat",value:function(){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/")}},{key:"getMessages",value:function(e){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/"+e)}},{key:"newChat",value:function(e){var t={timestamp:new Date,type:"single"},r=s.a.database().ref(this.firebaseAuthService.usersign.uid+"/chats/").push(t).key;return s.a.database().ref(e.uid+"/chats/"+r).set(t),s.a.database().ref("/chats/"+r).set(t),s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/"+r+"/"+e.uid).set("true"),s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/"+r+"/"+this.firebaseAuthService.usersign.uid).set("true"),s.a.database().ref(e.uid+"/members/"+r+"/"+e.uid).set("true"),s.a.database().ref(e.uid+"/members/"+r+"/"+this.firebaseAuthService.usersign.uid).set("true"),s.a.database().ref("/members/"+r+"/"+e.uid).set("true"),s.a.database().ref("/members/"+r+"/"+this.firebaseAuthService.usersign.uid).set("true"),r}},{key:"newMessage",value:function(e){console.log(e);var t=JSON.parse(localStorage.getItem("user2"));s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/"+localStorage.getItem("idchat")).push(e),s.a.database().ref(t.uid+"/messages/"+localStorage.getItem("idchat")).push(e),s.a.database().ref("/messages/"+localStorage.getItem("idchat")).push(e)}},{key:"newMessageGroup",value:function(e,t){var r=this;console.log(e),JSON.parse(localStorage.getItem("user2")),s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/"+localStorage.getItem("idchat")).push(e),s.a.database().ref("/messages/"+localStorage.getItem("idchat")).push(e),s.a.database().ref("/members/").orderByKey().equalTo(t).on("value",(function(t){var n,a=(n=[],t.forEach((function(e){var t=e.val();n.push(t)})),n);console.log(a),a.forEach((function(t){console.log(t);var n=Object.keys(t).filter((function(e){return e!=r.firebaseAuthService.usersign.uid&&"key"!=e}));console.log(n),n.forEach((function(t){s.a.database().ref(t+"/messages/"+localStorage.getItem("idchat")).push(e)}))}))}))}},{key:"readChats",value:function(){var e=this,t=localStorage.getItem("idchat");s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/"+t).once("value",(function(r){var n,a=(n=[],r.forEach((function(e){var t=e.val();t.key=e.key,n.push(t)})),n);console.log(a),a.forEach((function(r){r.sender!=e.firebaseAuthService.usersign.uid&&s.a.database().ref(e.firebaseAuthService.usersign.uid+"/messages/"+t+"/"+r.key+"/read").set("true")}))}))}},{key:"stopread",value:function(){console.log("stop read"),localStorage.getItem("idchat"),s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/").off()}},{key:"unreadChats",value:function(e){return s.a.database().ref(this.firebaseAuthService.usersign.uid+"/messages/"+e)}},{key:"newChatGroup",value:function(e){var t=this,r={timestamp:new Date,type:"group"};console.log(e);var n=s.a.database().ref(this.firebaseAuthService.usersign.uid+"/chats/").push(r).key;return s.a.database().ref("/chats/"+n).set(r),s.a.database().ref(this.firebaseAuthService.usersign.uid+"/members/"+n+"/"+this.firebaseAuthService.usersign.uid).set("true"),s.a.database().ref("/members/"+n+"/"+this.firebaseAuthService.usersign.uid).set("true"),e.forEach((function(e){s.a.database().ref(e.uid+"/members/"+n+"/"+e.uid).set("true"),s.a.database().ref(e.uid+"/members/"+n+"/"+t.firebaseAuthService.usersign.uid).set("true"),s.a.database().ref("/members/"+n+"/"+e.uid).set("true"),s.a.database().ref(t.firebaseAuthService.usersign.uid+"/members/"+n+"/"+e.uid).set("true"),s.a.database().ref(e.uid+"/chats/"+n).set(r)})),n}}]),e}();return e.ngInjectableDef=i.Qb({factory:function(){return new e(i.Rb(n.a))},token:e,providedIn:"root"}),e}()}}]);