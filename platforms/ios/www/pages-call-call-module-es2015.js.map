{"version":3,"sources":["./src/app/pages/call/call.page.html","./src/app/pages/call/call-routing.module.ts","./src/app/pages/call/call.module.ts","./src/app/pages/call/call.page.scss","./src/app/pages/call/call.page.ts"],"names":[],"mappings":"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","file":"pages-call-call-module-es2015.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar mode=\\\"md\\\">\\n        <!--     <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"home\\\" icon=\\\"chevron-back-outline\\\" text=\\\"\\\" mode=\\\"md\\\"></ion-back-button>\\n        </ion-buttons> -->\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>Video call</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n    <!--   <ion-buttons>\\n        <ion-back-button defaultHref=\\\"home\\\" icon=\\\"chevron-back-outline\\\" text=\\\"\\\" mode=\\\"md\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <div>\\n\\n        <h1>\\n            Video Call\\n        </h1>\\n\\n    </div> -->\\n\\n    <!-- <div id=\\\"video\\\"></div> -->\\n\\n    <ion-row>\\n        <ion-col>\\n            <h3>{{user.displayName}}</h3>\\n        </ion-col>\\n        <ion-col>\\n            <h3>\\n                {{usercall.displayName}}\\n            </h3>\\n        </ion-col>\\n\\n    </ion-row>\\n\\n    <div style=\\\"position: relative; width: 100%; height: 100%;\\\">\\n\\n        <div style=\\\"border: solid; width: 100%; height: 100%; position: absolute; left: 0px; top: 0px;\\\">\\n            <video style=\\\"width: 100%; height: 100%;\\\" id=\\\"device\\\" controls autoplay #remote></video>\\n\\n        </div>\\n        <div style=\\\"border: solid; width: 30%; position: absolute; left: 65%; top: 10%;\\\">\\n            <video style=\\\"width: 100%; height: 100%;\\\" id=\\\"me\\\" controls autoplay muted #me></video>\\n        </div>\\n    </div>\\n    <!-- \\n      <ion-row>\\n        <video style=\\\"width: 100%; max-height: 350px;\\\" id=\\\"me\\\" controls autoplay #me></video>\\n    </ion-row> -->\\n\\n\\n\\n    <hr>\\n\\n    <ion-row>\\n\\n    </ion-row>\\n    <!--   <ion-row>\\n        <video style=\\\"width: 100%; max-width: 350px;\\\" id=\\\"device\\\" controls autoplay #remote></video>\\n    </ion-row> -->\\n\\n\\n    <div class=\\\"bottom-content\\\">\\n        <ion-grid>\\n            <ion-row>\\n                <ion-col>\\n                    <ion-fab-button (click)=\\\"reconnect()\\\" d class=\\\"call-green\\\">\\n                        <!-- <ion-fab-button (click)=\\\"openCam()\\\" d class=\\\"call-green\\\"> -->\\n                        <ion-icon name=\\\"call-outline\\\"></ion-icon>\\n                    </ion-fab-button>\\n                    <!-- <ion-fab-button (click)=\\\"reconnect()\\\" d class=\\\"call-green\\\"> -->\\n                    <!--    <ion-fab-button (click)=\\\"startCamera()\\\" d class=\\\"call-green\\\">\\n                        <ion-icon name=\\\"call-outline\\\"></ion-icon>\\n                    </ion-fab-button> -->\\n                </ion-col>\\n                <ion-col>\\n                    <!--        <ion-avatar class=\\\"avatar\\\">\\n                        <img [src]=\\\"this.callData.photoUrl \\\">\\n                    </ion-avatar> -->\\n                </ion-col>\\n                <ion-col>\\n                    <ion-fab-button (click)=\\\"hangup()\\\" color=\\\"danger\\\" class=\\\"call-red\\\">\\n                        <ion-icon name=\\\"call-outline\\\"></ion-icon>\\n                    </ion-fab-button>\\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n    </div>\\n\\n\\n\\n\\n\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CallPage } from './call.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CallPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CallPageRoutingModule } from './call-routing.module';\n\nimport { CallPage } from './call.page';\nimport { AgmCoreModule } from '@agm/core';\nimport { AgmOverlays } from \"agm-overlays\"\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AgmOverlays,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyDL-2mFo6QYsp7qNSQl95AzhVZ6njRsLtE'\n    }),\n    CallPageRoutingModule\n  ],\n  declarations: [CallPage]\n})\nexport class CallPageModule {}\n","export default \"ion-header ion-back-button {\\n  color: var(--ion-color-primary-dark);\\n}\\nion-header ion-title {\\n  color: var(--ion-color-primary-dark);\\n  text-align: center;\\n  font-size: 18px;\\n  font-family: \\\"sfUi-m\\\";\\n  text-transform: capitalize;\\n}\\n.call-red {\\n  float: left;\\n  margin-top: 25px;\\n}\\n.call-green {\\n  float: right;\\n  margin-top: 25px;\\n}\\n.avatar {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\nion-avatar {\\n  height: 80px;\\n  width: 80px;\\n  /* margin-right: 0px !important;*/\\n}\\nion-avatar img {\\n  height: 80px;\\n  width: 80px;\\n  border-radius: 50%;\\n  border: 2px solid var(--ion-color-white);\\n}\\n#background-content {\\n  background-color: red !important;\\n}\\nion-content .bottom-content {\\n  position: absolute;\\n  bottom: 0;\\n  width: 100%;\\n  margin: 16px;\\n  width: 91%;\\n}\\n/* ion-content {\\n    --background: url(\\\"https://i1.wp.com/sandsofsiwa.com/wp-content/uploads/2018/08/happiness.jpg\\\") 0 0/115% 100% no-repeat;\\n}\\n */\\n.pt-5 {\\n  padding-top: 10px;\\n}\\nhtml,\\nbody,\\nion-app,\\nion-content {\\n  background-color: transparent;\\n}\\n.video {\\n  background-color: aqua;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n  margin: 16px;\\n  width: 91%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdmFudGFsYW1hbnRlcy9Eb2N1bWVudHMvUml6dGVrL0RldnMgQXBwcy9QRUVSUkVDT1ZFUlkvUGVlclJlY292ZXJ5QVBQL3NyYy9hcHAvcGFnZXMvY2FsbC9jYWxsLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvY2FsbC9jYWxsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLG9DQUFBO0FDQVI7QURFSTtFQUNJLG9DQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EscUJBQUE7RUFDQSwwQkFBQTtBQ0FSO0FESUE7RUFDSSxXQUFBO0VBQ0EsZ0JBQUE7QUNESjtBRElBO0VBQ0ksWUFBQTtFQUNBLGdCQUFBO0FDREo7QURJQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FDREo7QURJQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBT0EsaUNBQUE7QUNQSjtBRENJO0VBQ0ksWUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLHdDQUFBO0FDQ1I7QURJQTtFQUNJLGdDQUFBO0FDREo7QURLSTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtBQ0ZSO0FET0E7OztFQUFBO0FBS0E7RUFDSSxpQkFBQTtBQ0xKO0FEUUE7Ozs7RUFJSSw2QkFBQTtBQ0xKO0FEUUE7RUFDSSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsVUFBQTtBQ0xKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY2FsbC9jYWxsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXIge1xuICAgIGlvbi1iYWNrLWJ1dHRvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1kYXJrKTtcbiAgICB9XG4gICAgaW9uLXRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWRhcmspO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdzZlVpLW0nO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgICB9XG59XG5cbi5jYWxsLXJlZCB7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLXRvcDogMjVweDtcbn1cblxuLmNhbGwtZ3JlZW4ge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4uYXZhdGFyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbmlvbi1hdmF0YXIge1xuICAgIGhlaWdodDogODBweDtcbiAgICB3aWR0aDogODBweDtcbiAgICBpbWcge1xuICAgICAgICBoZWlnaHQ6IDgwcHg7XG4gICAgICAgIHdpZHRoOiA4MHB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci13aGl0ZSk7XG4gICAgfVxuICAgIC8qIG1hcmdpbi1yaWdodDogMHB4ICFpbXBvcnRhbnQ7Ki9cbn1cblxuI2JhY2tncm91bmQtY29udGVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmVkICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgICAuYm90dG9tLWNvbnRlbnQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG1hcmdpbjogMTZweDtcbiAgICAgICAgd2lkdGg6IDkxJTtcbiAgICB9XG59XG5cblxuLyogaW9uLWNvbnRlbnQge1xuICAgIC0tYmFja2dyb3VuZDogdXJsKFwiaHR0cHM6Ly9pMS53cC5jb20vc2FuZHNvZnNpd2EuY29tL3dwLWNvbnRlbnQvdXBsb2Fkcy8yMDE4LzA4L2hhcHBpbmVzcy5qcGdcIikgMCAwLzExNSUgMTAwJSBuby1yZXBlYXQ7XG59XG4gKi9cblxuLnB0LTUge1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG5odG1sLFxuYm9keSxcbmlvbi1hcHAsXG5pb24tY29udGVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG5cbi52aWRlbyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYXF1YTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogMTZweDtcbiAgICB3aWR0aDogOTElO1xufSIsImlvbi1oZWFkZXIgaW9uLWJhY2stYnV0dG9uIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWRhcmspO1xufVxuaW9uLWhlYWRlciBpb24tdGl0bGUge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktZGFyayk7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LWZhbWlseTogXCJzZlVpLW1cIjtcbiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG59XG5cbi5jYWxsLXJlZCB7XG4gIGZsb2F0OiBsZWZ0O1xuICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4uY2FsbC1ncmVlbiB7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLXRvcDogMjVweDtcbn1cblxuLmF2YXRhciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG5pb24tYXZhdGFyIHtcbiAgaGVpZ2h0OiA4MHB4O1xuICB3aWR0aDogODBweDtcbiAgLyogbWFyZ2luLXJpZ2h0OiAwcHggIWltcG9ydGFudDsqL1xufVxuaW9uLWF2YXRhciBpbWcge1xuICBoZWlnaHQ6IDgwcHg7XG4gIHdpZHRoOiA4MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci13aGl0ZSk7XG59XG5cbiNiYWNrZ3JvdW5kLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQgIWltcG9ydGFudDtcbn1cblxuaW9uLWNvbnRlbnQgLmJvdHRvbS1jb250ZW50IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDE2cHg7XG4gIHdpZHRoOiA5MSU7XG59XG5cbi8qIGlvbi1jb250ZW50IHtcbiAgICAtLWJhY2tncm91bmQ6IHVybChcImh0dHBzOi8vaTEud3AuY29tL3NhbmRzb2ZzaXdhLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wOC9oYXBwaW5lc3MuanBnXCIpIDAgMC8xMTUlIDEwMCUgbm8tcmVwZWF0O1xufVxuICovXG4ucHQtNSB7XG4gIHBhZGRpbmctdG9wOiAxMHB4O1xufVxuXG5odG1sLFxuYm9keSxcbmlvbi1hcHAsXG5pb24tY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuXG4udmlkZW8ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMTZweDtcbiAgd2lkdGg6IDkxJTtcbn0iXX0= */\"","import { UtilService } from \"./../../services/util.service\";\nimport { Component, OnInit, ViewChild } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { mapStyle } from \"src/environments/environment\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { AlertController } from \"@ionic/angular\";\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { CameraPreview, CameraPreviewPictureOptions, CameraPreviewOptions, CameraPreviewDimensions } from '@ionic-native/camera-preview/ngx';\n//import { VideoCapturePlus, VideoCapturePlusOptions, MediaFile } from '@ionic-native/video-capture-plus/ngx';\nimport { Zoom } from '@ionic-native/zoom/ngx';\nimport { VideocallService } from \"src/app/services/videocall.service\";\nimport firebase from 'firebase';\nimport { AngularFireList, AngularFireDatabase } from '@angular/fire/database';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\n\n\ndeclare let RTCPeerConnection: any;\ndeclare var MediaRecorder: any;\n\n\n\n@Component({\n  selector: \"app-call\",\n  templateUrl: \"./call.page.html\",\n  styleUrls: [\"./call.page.scss\"],\n})\nexport class CallPage implements OnInit {\n  callData: any;\n\n  SDK_KEY:string = \"xqvI8YnZzEcm2wr4U0DYUl7eB90sPD2iiBjQ\";\n  SDK_SECRET:string = \"iQWxlbFuiEzn4zIJjP1xK1rAYS07uMmgTCiN\";\n  \n  \n  @ViewChild(\"search\", { static: true }) search;\n  zoom: number = 12;\n  lat: number = 28.6532358;\n  lng: number = -106.0991318;\n  styles = mapStyle;\n  markers: any = [\n    \n    {\n      img: this.authSVC.usersign.photoURL,\n      select: true,\n      isOpen: true,\n      lat: 28.6532358,\n      lng: -106.0991318,\n    },\n    \n  ];\n  constructor(\n    private route: ActivatedRoute, \n    private router: Router,\n    private camera: Camera,\n    private util: UtilService,\n    private alertController: AlertController,\n    public authSVC: AuthService,\n    private cameraPreview: CameraPreview,\n    public videocallSVC: VideocallService,\n    private afDb: AngularFireDatabase,\n    private androidPermissions: AndroidPermissions,\n    /* private videoCapturePlus: VideoCapturePlus, */\n    private zoomService: Zoom) {\n      console.log('ENTRO');\n\n      this.route.queryParams.subscribe(params => {\n        console.log(params,'PARAMS');\n        if (params && params.special) {\n          this.callData = JSON.parse(params.special);\n          this.user = this.callData.user;\n          this.usercall = this.callData.usercall;\n          this.data = this.callData;\n\n        }\n      });\n\n\n\n      //this.openCamera();\n    }\n\n    img;\n    user;\n    usercall;\n    listener;\n    status;\n    data;\n\n    recordedBlobs: Blob[];\n    callActive: boolean = false;\npc: any;\nlocalStream: any;\nchannel;\nchannelN;\ndatabase;\nsenderId: string;\nmediaRecorder: any;\ndownloadUrl: string;\n\n@ViewChild(\"me\", {static: false}) me: any;\n@ViewChild(\"remote\", {static: false}) remote: any;\n\n  ngOnInit() {\n    //this.initZoom();\n    console.log(this.data);\n    this.user = JSON.parse(sessionStorage.getItem('user'));\n  /*   if (this.data.type=='caller'){\n\n      this.getCall();   \n    }\n    else if (this.data.type=='answer'){\n      this.setupWebRtc();\n      //this.showRemote(); \n    } */\n\n    this.status = 'Calling'\n\n    \n\n    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(result=>{\n\n      if (result.hasPermission){\n\n        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.RECORD_AUDIO).then(res=>{\n          if (res.hasPermission){\n            this.getCall();\n\n          }else{\n            this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA, this.androidPermissions.PERMISSION.GET_ACCOUNTS, this.androidPermissions.PERMISSION.RECORD_AUDIO]).then(r=>{\n              this.getCall();\n            });\n          }\n        })\n        \n      }else{\n        \n        this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA, this.androidPermissions.PERMISSION.GET_ACCOUNTS, this.androidPermissions.PERMISSION.RECORD_AUDIO]).then(r=>{\n          this.getCall();\n        });\n      }\n\n    }).catch(e=>{\n   \n      this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA, this.androidPermissions.PERMISSION.GET_ACCOUNTS, this.androidPermissions.PERMISSION.RECORD_AUDIO]).then(r=>{\n        this.getCall();\n      });\n   console.log(e,'ERROR3');\n })\n\n\n\n  }\n\n  openCamera(){\n        const options: CameraOptions = {\n          quality: 100,\n          destinationType: this.camera.DestinationType.FILE_URI,\n          encodingType: this.camera.EncodingType.JPEG,\n          mediaType: this.camera.MediaType.PICTURE\n        }\n\n        console.log(options);\n        \n        this.camera.getPicture(options).then((imageData) => {\n        // imageData is either a base64 encoded string or a file URI\n        // If it's base64 (DATA_URL):\n        console.log(imageData);\n        let base64Image = 'data:image/jpeg;base64,' + imageData;\n        console.log(base64Image);\n        this.img = base64Image\n        }, (err) => {\n        // Handle error\n        });\n\n\n        \n\n        \n  }\n\n  openCam(){\n    console.log('CAMARA');\n    this.openCamera()\n    //this.startCamera();\n  }\n\n  \n\n\n  async onMarkerSelect(marker: any) {\n    if (marker.isOpen) {\n      await this.markers.forEach((element) => {\n        element.select = false;\n      });\n      marker.select = await true;\n    }\n  }\n\n\n  \n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      message: 'Do you want to share your courrent location?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Share!',\n          handler: () => {\n            console.log('Confirm Okay');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n\n  startCamera(){\n\n    let div = document.getElementById('')\n    \n\n    // camera options (Size and location). In the following example, the preview uses the rear camera and display the preview in the back of the webview\nconst cameraPreviewOpts: CameraPreviewOptions = {\n  x: 0,\n  y: 0,\n  width: +div.getAttribute('width'),\n  height: +div.getAttribute('heigth'),\n  camera: 'rear',\n  tapPhoto: true,\n  previewDrag: true,\n  toBack: false,\n  alpha: 1  \n}\n\n// picture options\nconst pictureOpts: CameraPreviewPictureOptions = {\n  width: 1280,\n  height: 1280,\n  quality: 85\n}\n    // start camera\nthis.cameraPreview.startCamera(cameraPreviewOpts).then(\n  (res) => {\n    console.log(res)\n  },\n  (err) => {\n    console.log(err)\n  });\n\n  \n\n  \n  }\n\n  startVideo(){\n    var opts = {\n      cameraDirection: 'BACK',\n      width: (window.screen.width / 2),\n      height: (window.screen.height / 2),\n      quality: 60,\n      withFlash: false\n    }\n\n    this.cameraPreview.startRecordVideo(opts).then(res=>{\n      console.log(res);\n    })\n  }\n\n\n  recordVideo(){\n  /*   const options: VideoCapturePlusOptions = {\n      limit: 1,\n      highquality: true,\n      portraitOverlay: 'assets/img/camera/overlay/portrait.png',\n      landscapeOverlay: 'assets/img/camera/overlay/landscape.png'\n   } */\n\n/*    this.videoCapturePlus.captureVideo(options).then(mediaFile =>{\n     console.log(mediaFile);\n   }) */\n\n\n   /* this.videoCapturePlus.captureVideo(options).then(mediafile: MediaFile[] => console.log(mediafile), error => console.log('Something went wrong')); */\n\n  }\n\n\n  //ZOOM\n  //SDK KEY\n  //8eNI0Df1PjUKcNWOPBPJALT4uS6tPlJqUIuW\n  //SDK Secret\n  //YE5ZTor7c5BQXdqz2D9SAXzq1X7K29jkHq4n\n\n  initZoom(){\n    this.zoomService.initialize(this.SDK_KEY, this.SDK_SECRET).then(success=>{\n      console.log(success);\n      this.loginZoom()\n    })  \n  .catch((error: any) => console.log(error));\n  }\n\n  joinMeeting(){\n    let options = {\n      \"no_driving_mode\":true,\n      \"no_invite\":true,\n      \"no_meeting_end_message\":true,\n      \"no_titlebar\":false,\n      \"no_bottom_toolbar\":false,\n      \"no_dial_in_via_phone\":true,\n      \"no_dial_out_to_phone\":true,\n      \"no_disconnect_audio\":true,\n      \"no_share\":true,\n      \"no_audio\":true,\n      \"no_video\":true,\n      \"no_meeting_error_message\":true\n     };\n    let meetingNumber = '74695593469'\n    let meetingPassword = 'phc5T9'\n    let displayName = 'CEL PEERRCOVERY'\n    \n    this.zoomService.joinMeeting(meetingNumber, meetingPassword, displayName, options)\n    .then((success: any) => console.log(success))\n  .catch((error: any) => console.log(error));\n  }\n\n  initMeeting2(){\n    let options = {\n      \"no_driving_mode\":true,\n      \"no_invite\":true,\n      \"no_meeting_end_message\":true,\n      \"no_titlebar\":false,\n      \"no_bottom_toolbar\":false,\n      \"no_dial_in_via_phone\":true,\n      \"no_dial_out_to_phone\":true,\n      \"no_disconnect_audio\":true,\n      \"no_share\":true,\n      \"no_audio\":true,\n      \"no_video\":true,\n      \"no_meeting_error_message\":true\n     };\n    let meetingNumber = '123456789'\n    let displayName = 'CEL PEERRCOVERY'\n    let zoomToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOm51bGwsImlzcyI6InNoV3FnYzVuUXlxSG9RRFFqWEpVYlEiLCJleHAiOjE2MTc3NTU1MDYsImlhdCI6MTYxNzc1MDEwNn0.jSv27DD6L8QBRwSdFiQU9usK1d6iv4zeo6xec7lm8Pw'\n    let zoomAccessToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOm51bGwsImlzcyI6InNoV3FnYzVuUXlxSG9RRFFqWEpVYlEiLCJleHAiOjE2MTc3NTU1MDYsImlhdCI6MTYxNzc1MDEwNn0.jSv27DD6L8QBRwSdFiQU9usK1d6iv4zeo6xec7lm8Pw'\n    let userId = 'ivan.talamantes@live.com'\n    console.log(userId);\n    this.zoomService.startMeetingWithZAK(meetingNumber, displayName, zoomToken, zoomAccessToken, userId, options)\n  .then((success: any) => console.log(success))\n  .catch((error: any) => console.log(error));\n  }\n\n  loginZoom(){\n    this.zoomService.login('losarcoscongregacion2020@gmail.com', 'LosArcos2020.')\n  .then((success: any) => console.log(success))\n  .catch((error: any) => console.log(error));\n  }\n\n  initMeeting(){\n    let options = {\n      \"no_driving_mode\":true,\n      \"no_invite\":true,\n      \"no_meeting_end_message\":true,\n      \"no_titlebar\":false,\n      \"no_bottom_toolbar\":false,\n      \"no_dial_in_via_phone\":true,\n      \"no_dial_out_to_phone\":true,\n      \"no_disconnect_audio\":true,\n      \"no_share\":true,\n      \"no_audio\":true,\n      \"no_video\":true,\n      \"no_meeting_error_message\":true\n     };\n    \n\n    this.zoomService.startInstantMeeting(options)\n  .then((success: any) => console.log(success))\n  .catch((error: any) => console.log(error));\n  }\n\n\n\n\n  /*  */\n\n  getCall(){\n    this.listener = this.videocallSVC.getCall(this.videocallSVC.keycall).once('value', call=>{\n      console.log(call.val());\n      /* console.log(call.val().Members.val()); */\n      this.call()\n      let keys = Object.keys(call.val().Members)\n      console.log(keys);\n\n      console.log(call.val().Members[keys[0]]);\n      console.log(call.val().Members[keys[1]]);\n\n      if ((call.val().Members[keys[0]]) && (call.val().Members[keys[1]]) ){\n      /*   if (this.data.type=='caller'){\n\n          this.showRemote();\n        } */\n\n        this.status = 'Ready'\n\n      }\n\n\n\n\n    })\n  }\n\n  call(){\n    console.log('Llamando');\n    this.recordedBlobs = new Array<Blob>()\n    this.setupWebRtc();\n  }\n\n\n\n\n\n  setupWebRtc() {\n    this.senderId = this.guid();\n    console.log(this.senderId);\n    var channelName = \"/webrtc/\"+this.videocallSVC.keycall;\n    console.log(channelName);\n    //this.database = firebase.database().ref('Video/');\n\n    \n    \n    \n    //this.channel = firebase.database().ref(channelName).on();\n        this.channel = this.afDb.list(channelName);\n\n    this.database = firebase.database().ref(channelName);\n    this.database.on(\"child_added\", this.readMessage.bind(this));\n\n    try {\n      this.pc = new RTCPeerConnection({\n        iceServers: [\n          { urls: \"stun:stun.services.mozilla.com\" },\n          { urls: \"stun:stun.l.google.com:19302\" },\n          { urls: \"stun:0.0.0.0:6200\" },\n        ]\n      }, { optional: [] });\n    } catch (error) {\n      console.log(error);\n      this.pc = new RTCPeerConnection({\n        iceServers: [\n          { urls: \"stun:stun.services.mozilla.com\" },\n          { urls: \"stun:stun.l.google.com:19302\" },\n          { urls: \"stun:0.0.0.0:6200\" },\n        ]\n      }, { optional: [] });\n      \n    }\n\n    console.log(this.pc);\n\n\n\n    this.pc.onicecandidate = event => {\n      console.log(eventÂ );\n      event.candidate ? this.sendMessage(this.senderId, JSON.stringify({ ice: event.candidate })) : console.log(\"Sent All Ice\");\n    }\n\n    this.pc.onremovestream = event => {\n      console.log('Stream Ended');\n    }\n\n    this.pc.ontrack = event =>\n      (this.remote.nativeElement.srcObject = event.streams[0]); // use ontrack\n    this.showMe();\n    if (this.data.type=='caller'){\n     \n      this.showRemote(); \n    }\n  }\n\n  readMessage(data) {\n    console.log(data,'DATA');\n    console.log(data.val(),'DATAs');\n    if (!data) return;\n    try {\n      console.log(data.val().message);\n      var msg = JSON.parse(data.val().message);\n      let personalData = data.val().personalData;\n      var sender = data.val().sender;\n      if (sender != this.senderId) {\n        if (msg.ice != undefined && this.pc != null) {\n          this.pc.addIceCandidate(new RTCIceCandidate(msg.ice));\n        } else if (msg.sdp.type == \"offer\") {\n          this.callActive = true;\n          this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp))\n            .then(() => this.pc.createAnswer())\n            .then(answer => this.pc.setLocalDescription(answer))\n            .then(() => this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription })));\n        } else if (msg.sdp.type == \"answer\") {\n          \n          this.callActive = true;\n          this.pc.setRemoteDescription(new RTCSessionDescription(msg.sdp));\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  sendMessage(senderId, data) {\n    var msg = this.channel.push({ sender: senderId, message: data });\n    \n    msg.remove();\n  }\n\n  public ngOnDestroy() {\n /*    this.pc.close();\n    let tracks = this.localStream.getTracks();\n    for (let i = 0; i < tracks.length; i++) {\n      tracks[i].stop();\n    }\n    this.callActive = false; */\n\n  }\n\n  guid() {\n    return (this.s4() + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + \"-\" + this.s4() + this.s4() + this.s4());\n  }\n  s4() {\n    return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n  }\n\n  handleDataAvailable() {\n    \n    try {\n      this.mediaRecorder.ondataavailable = (event) => {\n        if (event.data && event.data.size > 0) {\n          this.recordedBlobs.push(event.data)\n        }\n      }\n    } catch (error) {\n      console.log(error)\n    }\n}\n\n\n// handleStop(event) {\n//   console.log('Recorder stopped: ', event);\n//   const videoBuffer = new Blob(this.recordedBlobs, {type: 'video/webm'});\n//   this.downloadUrl = window.URL.createObjectURL(videoBuffer); // you can download with <a> tag\n//  /*  const link = document.createElement('a');\n//   link.href = this.downloadUrl;\n//   link.target = '_blank'    \n//   link.click(); */\n// }\n\nonStopRecordingEvent() {\n  try {\n    console.log('onstop');\n    this.mediaRecorder.onstop = (event: Event) => {\n      const videoBuffer = new Blob(this.recordedBlobs, { type: 'video/webm' })\n      this.downloadUrl = window.URL.createObjectURL(videoBuffer) // you can download with <a> tag\n     /*  Swal.fire({\n        title: 'Saving Video',              \n     \n      })\n      Swal.showLoading() */\n\n      \n      \n      this.videocallSVC.tareaCloudStorage(this.videocallSVC.keycall+'/'+this.user.uid,videoBuffer).percentageChanges().subscribe(p=>{\n        let porcentaje = Math.round(p);\n      if (porcentaje == 100) {\n        \n       \n      }\n      \n     \n\n      })\n\n      \n      /* const link = document.createElement('a');\n  link.href = this.downloadUrl;\n  link.target = '_target';\n  link.setAttribute('download', 'video')\n  document.body.appendChild(link)    \n  link.click();  */\n    }\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nstartRecording(stream) {\n  let options = {mimeType: 'video/webm'};\n  this.recordedBlobs = [];\n  try {\n      this.mediaRecorder = new MediaRecorder(stream);\n  } catch (e0) {\n      console.log('Try different mimeType',e0);\n  }\n  console.log('Created MediaRecorder', this.mediaRecorder, 'with options');\n  //this.mediaRecorder.onstop = this.handleStop;\n  //this.mediaRecorder.ondataavailable = this.handleDataAvailable;\n  //this.stopRecording()\n  this.handleDataAvailable();\n  this.onStopRecordingEvent();\n\n  this.mediaRecorder.start(100); // collect 100ms of data\n  console.log('MediaRecorder started', this.mediaRecorder);\n}\n\nstopRecording() {\n  console.log('stop');\nthis.mediaRecorder.stop();\n\nconsole.log('Recorded Blobs: ', this.recordedBlobs);\n//this.recordVideoElement.controls = true;\n}\n\nshowMe() {\n  console.log('showme');\n  \n //AQUI\n this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(result=>{\n   console.log(result,'RESULT');\n  navigator.mediaDevices.getUserMedia({audio: true, video: true}).then(stream=>{\n  /* navigator.mediaDevices.getUserMedia({audio: true, video: true}).then(stream=>{ */\n    console.log(stream,'STREAM');\n    this.me.nativeElement.srcObject = stream;\n    this.me.nativeElement.muted = true;\n    \n    console.log(stream,'STREAM2');\n   \n    this.pc.addStream(stream);\n    console.log(stream,'STREAM3');\n    this.localStream = stream;\n    console.log(this.localStream);\n    this.startRecording(stream);\n  }).catch(e=>{\n    console.log(JSON.stringify(e),'ERROR1');\n  })\n\n }).catch(e=>{\n   \n  this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA, this.androidPermissions.PERMISSION.GET_ACCOUNTS, this.androidPermissions.PERMISSION.MICROPHONE]);\n   console.log(e,'ERROR3');\n })\n/* \n this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(\n  result => console.log('Has permission?', result.hasPermission),\n  err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA)\n);\n\nthis.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.CAMERA]); */\n\n\n\n\n\n /*  navigator.mediaDevices.getUserMedia({ audio: true, video: true })\n    .then(stream => (this.me.nativeElement.srcObject = stream)).catch(e=>{\n      console.log(e,'ERROR1');\n    })\n    .then(stream => {\n      this.pc.addStream(stream);\n      this.localStream = stream;\n      console.log(this.localStream);\n      this.startRecording(stream);\n\n      \n      \n    }).catch(e=>{\n      console.log(e,'ERROR2');\n    }); */\n}\n\nshowRemote(){\n  console.log('Contesto');\n  try {\n    //this.setupWebRtc();\n    this.pc.createOffer()\n      .then(offer => this.pc.setLocalDescription(offer))\n      .then(() => {\n        this.sendMessage(this.senderId, JSON.stringify({ sdp: this.pc.localDescription }));\n        this.callActive = true;\n      });\n  } catch (error) {\n    this.setupWebRtc();\n    console.log(error);\n  }\n}\n\nreconnect(){\n  this.videocallSVC.reconnect(this.user,this.videocallSVC.keycall)\n  //this.me.nativeElement.requestPictureInPicture()\n  this.showRemote();\n\n}\n\nhangup(){\n    \n  //this.status = 'Hang Up'\n  this.videocallSVC.hangup(this.user,this.videocallSVC.keycall)\n  //this.videocallSVC.getCall(this.videocallSVC.keycall).off('value',this.listener)\n\n  \n  console.log('Colgaron');\n\n  this.stopRecording()\n\n  this.pc.close();\nlet tracks = this.localStream.getTracks();    \nfor (let i = 0; i < tracks.length; i++) {\ntracks[i].stop();\n}\nthis.callActive = false;\n\n\nthis.router.navigate(['video']);\n\n/* this.close(); */\n\n  \n\n\n\n\n \n\n  //this.setupWebRtc();\n  \n\n\n}\n  \n}\n\n\n"],"sourceRoot":"webpack:///"}