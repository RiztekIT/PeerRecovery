{"version":3,"sources":["src/app/pages/call-users-list/call-users-list.page.html","src/app/pages/call-users-list/call-users-list-routing.module.ts","src/app/pages/call-users-list/call-users-list.module.ts","src/app/pages/call-users-list/call-users-list.page.scss","src/app/pages/call-users-list/call-users-list.page.ts","src/app/services/chat.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar mode=\\\"md\\\">\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"home\\\" icon=\\\"chevron-back-outline\\\" text=\\\"\\\" mode=\\\"md\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>Video call</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding-bottom\\\">\\n    <div class=\\\"today_div\\\">\\n        <!--         <ion-item *ngFor=\\\"let item of users\\\" lines=\\\"full\\\" (click)=\\\"startCamera()\\\" mode=\\\"md\\\"> -->\\n        <ion-item *ngFor=\\\"let item of users\\\" lines=\\\"full\\\" (click)=\\\"openCall(item)\\\" mode=\\\"md\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n                <img [src]=\\\"item?.photoUrl\\\">\\n            </ion-avatar>\\n            <ion-label>\\n                <h3 class=\\\"name\\\">{{item?.displayName}}</h3>\\n                <p class=\\\"detail\\\">{{item?.email}}</p>\\n            </ion-label>\\n        </ion-item>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CallUsersListPage } from './call-users-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallUsersListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CallUsersListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CallUsersListPageRoutingModule } from './call-users-list-routing.module';\n\nimport { CallUsersListPage } from './call-users-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CallUsersListPageRoutingModule\n  ],\n  declarations: [CallUsersListPage]\n})\nexport class CallUsersListPageModule {}\n","export default \"ion-header ion-back-button {\\n  color: var(--ion-color-primary-dark);\\n}\\nion-header ion-title {\\n  color: var(--ion-color-primary-dark);\\n  text-align: center;\\n  font-size: 18px;\\n  font-family: \\\"sfUi-m\\\";\\n  text-transform: capitalize;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pdmFudGFsYW1hbnRlcy9Eb2N1bWVudHMvUml6dGVrL0RldnMgQXBwcy9QRUVSUkVDT1ZFUlkvUGVlclJlY292ZXJ5QVBQL3NyYy9hcHAvcGFnZXMvY2FsbC11c2Vycy1saXN0L2NhbGwtdXNlcnMtbGlzdC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NhbGwtdXNlcnMtbGlzdC9jYWxsLXVzZXJzLWxpc3QucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksb0NBQUE7QUNBUjtBREVJO0VBQ0ksb0NBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxxQkFBQTtFQUNBLDBCQUFBO0FDQVIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jYWxsLXVzZXJzLWxpc3QvY2FsbC11c2Vycy1saXN0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXIge1xuICAgIGlvbi1iYWNrLWJ1dHRvbiB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1kYXJrKTtcbiAgICB9XG4gICAgaW9uLXRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LWRhcmspO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdzZlVpLW0nO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbiAgICB9XG59IiwiaW9uLWhlYWRlciBpb24tYmFjay1idXR0b24ge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktZGFyayk7XG59XG5pb24taGVhZGVyIGlvbi10aXRsZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1kYXJrKTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtZmFtaWx5OiBcInNmVWktbVwiO1xuICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcbn0iXX0= */\"","import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { NavController } from \"@ionic/angular\";\nimport { UserModel } from \"src/app/models/users.model\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { ChatService } from \"src/app/services/chat.service\";\nimport { NavigationExtras } from '@angular/router';\nimport { CameraPreview, CameraPreviewPictureOptions, CameraPreviewOptions, CameraPreviewDimensions } from '@ionic-native/camera-preview/ngx';\n\n\nexport const snapshotToArray = (snapshot: any) => {\n  const returnArr = [];\n\n  snapshot.forEach((childSnapshot: any) => {\n      const item = childSnapshot.val();\n      item.key = childSnapshot.key;\n      returnArr.push(item);\n  });\n\n  return returnArr;\n};\n\n\n@Component({\n  selector: \"app-call-list\",\n  templateUrl: \"./call-users-list.page.html\",\n  styleUrls: [\"./call-users-list.page.scss\"],\n})\nexport class CallUsersListPage implements OnInit {\n\n  \n \n  user:UserModel;\n  users: any[] = [];\n  data: any;\n\n  constructor(private nav: NavController,\n              private router: Router,\n              private firebaseAuthService: AuthService,\n              private chatService: ChatService,\n              private cameraPreview: CameraPreview) {   \n}\n\n\n\n  ngOnInit() {\n    this.getUsers();\n  }\n  \n  getUsers(){\n      this.chatService.getUsers().orderByChild('type').equalTo('User').on('value', (resp:any) =>{\n        //console.log(resp);\n         const users = snapshotToArray(resp);\n        console.log(users);\n        this.users = users;\n        this.users = this.users.filter(x => x.uid != this.firebaseAuthService.usersign.uid);\n       })\n  }\n\n  openCall(item){\n    let navigationExtras: NavigationExtras = {\n      queryParams: {\n        special: JSON.stringify(item)\n      }\n    };\n    this.router.navigate(['call'], navigationExtras);\n  }\n\n \n\n  \n\n\n\n}\n","import { Injectable } from '@angular/core';\nimport { UserModel } from '../models/users.model';\n\nimport { AuthService } from './auth.service';\n\nimport { Observable, Subject } from 'rxjs';\nimport { of } from 'rxjs';\nimport firebase from 'firebase';\n//import { UserModel } from 'app/models/users.model';\n\nconst snapshotToArray = (snapshot: any) => {\n  const returnArr = [];\n\n  snapshot.forEach((childSnapshot: any) => {\n      const item = childSnapshot.val();\n      item.key = childSnapshot.key;\n      returnArr.push(item);\n  });\n\n  return returnArr;\n};\nconst snapshotToArray2 = (snapshot: any) => {\n  const returnArr = [];\n\n  snapshot.forEach((childSnapshot: any) => {\n      const item = childSnapshot.val();\n      /* item.key = childSnapshot.key; */\n      returnArr.push(item);\n  });\n\n  return returnArr;\n};\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\n\nexport class ChatService {\n   \n  private subject = new Subject<any>();\n  public chatsUsers: any[] = [];\n\n  usersDBRef:any;\n  users: any[] = [];\n\n  public myObservable$: Observable<any>;\n\n  constructor(private firebaseAuthService: AuthService) { \n    //this.usersDBRef = this.firebaseAuthService.firebaseDB.collection('users');\n\n\n\n//    this.myObservable$ = this.usersDBRef.onSnapshot();\n\n  //  console.log(this.myObservable$);\n   }\n\n\n /*   postUser(user:UserModel){\n      \n      this.usersDBRef\n      .add(Object.assign({}, user)).then(docRef=>{\n          console.log(docRef);\n      }).catch(e=> console.log(\"error: \"+ e));\n   } */\n\n /*getUsers(){\n  this.usersDBRef.onSnapshot(  snap =>{\n    snap.forEach( snapHijo =>{\n        this.users.push({\n            id: snapHijo.id,\n            ...snapHijo.data()\n        })\n    });\n  });\n }*/\n\n\n  getUserChats(){\n\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/');\n\n    //return this.afDB.object('cliente/').valueChanges()\n\n  }\n\n  getChatsMembers(idchat){\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/'+idchat);\n  }\n\n  getChats(){\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/chats/');\n  }\n\n  getUser(uid){\n    return firebase.database().ref('Users/'+uid);\n  }\n\n  getUsers(){\n    return firebase.database().ref('Users/');\n  }\n\n  getChat(){\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/');\n  }\n\n  getMessages(chatid){\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+chatid);\n  }\n\n  newChat(user){\n\n    //let key = this.afDB.list('/cliente/').push(cliente).key;\n\n    let chat = {\n      timestamp: new Date(),\n      type: 'single'\n    }\n\n   \n\n    \n\n    let key  = firebase.database().ref(this.firebaseAuthService.usersign.uid+'/chats/').push(chat).key;\n    firebase.database().ref(user.uid+'/chats/'+key).set(chat);        \n    firebase.database().ref('/chats/'+key).set(chat);\n    \n\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/'+key+'/'+user.uid).set('true');\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n    \n\n    firebase.database().ref(user.uid+'/members/'+key+'/'+user.uid).set('true');\n    firebase.database().ref(user.uid+'/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n    firebase.database().ref('/members/'+key+'/'+user.uid).set('true');\n    firebase.database().ref('/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n\n    return key;\n  }\n\n  newMessage(message){\n\n    console.log(message);\n    let user2 = JSON.parse(localStorage.getItem('user2'))\n\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+localStorage.getItem('idchat')).push(message);\n    firebase.database().ref(user2.uid+'/messages/'+localStorage.getItem('idchat')).push(message);\n    firebase.database().ref('/messages/'+localStorage.getItem('idchat')).push(message);\n\n    \n  }\n  newMessageGroup(message, idchat){\n\n    console.log(message);\n    let user2 = JSON.parse(localStorage.getItem('user2'))\n\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+localStorage.getItem('idchat')).push(message);\n    firebase.database().ref('/messages/'+localStorage.getItem('idchat')).push(message);\n\n    \n    firebase.database().ref('/members/').orderByKey().equalTo(idchat).on('value',resp=>{\n      let users = snapshotToArray2(resp)\n      console.log(users);\n      users.forEach(user=>{\n        console.log(user);\n\n        let keyusers = Object.keys(user).filter(key=>key != this.firebaseAuthService.usersign.uid && key != 'key')\n        console.log(keyusers);\n        keyusers.forEach(keyuser=>{\n        firebase.database().ref(keyuser+'/messages/'+localStorage.getItem('idchat')).push(message);\n\n        })\n      })\n    })\n\n\n    \n\n    \n  }\n\n\n  readChats(){\n\n    let chatid = localStorage.getItem('idchat')\n\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+chatid).once('value', resp=>{\n      \n      let messages = snapshotToArray(resp);\n      console.log(messages);\n\n      messages.forEach(message=>{\n        if (message.sender!=this.firebaseAuthService.usersign.uid){\n          firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+chatid+'/'+message.key+'/read').set('true');\n        }\n      })\n\n    });\n\n  }\n\n  stopread(){\n    console.log('stop read');\n\n    let chatid = localStorage.getItem('idchat')\n\n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/').off();\n\n  }\n\n  unreadChats(chatid){\n\n    let count = 0;\n\n    return firebase.database().ref(this.firebaseAuthService.usersign.uid+'/messages/'+chatid)\n    \n    \n   /*  .on('value', resp=>{\n      \n      let messages = snapshotToArray(resp);\n      console.log(messages);\n\n      messages.forEach(message=>{\n        if ((message.sender!=this.firebaseAuthService.usersign.uid) && (message.read=='false')){\n          count = count + 1;\n        }\n      })\n\n      \n      console.log(count);\n    }); */\n \n\n  }\n\n  newChatGroup(users){\n\n    //let key = this.afDB.list('/cliente/').push(cliente).key;\n\n    let chat = {\n      timestamp: new Date(),\n      type: 'group'\n    }\n\n    console.log(users);\n\n    /* agregar al chat */\n    \n\n   \n\n    \n\n    let key  = firebase.database().ref(this.firebaseAuthService.usersign.uid+'/chats/').push(chat).key;            \n    firebase.database().ref('/chats/'+key).set(chat);\n    \n\n    \n    firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n    firebase.database().ref('/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n    \n/* users */\nusers.forEach(user=>{\n\n  firebase.database().ref(user.uid+'/members/'+key+'/'+user.uid).set('true');\n  firebase.database().ref(user.uid+'/members/'+key+'/'+this.firebaseAuthService.usersign.uid).set('true');\n  firebase.database().ref('/members/'+key+'/'+user.uid).set('true');\n\n\n  firebase.database().ref(this.firebaseAuthService.usersign.uid+'/members/'+key+'/'+user.uid).set('true');\n\n  firebase.database().ref(user.uid+'/chats/'+key).set(chat);\n})\n\n    return key;\n  }\n\n /*  newChat2(user,idchat){\n\n    //let key = this.afDB.list('/cliente/').push(cliente).key;\n\n    let chat = {\n      timestamp: new Date(),\n      type: 'single'\n    }\n\n   \n\n    console.log(user);\n\n    let key  = idchat;\n  \n    \n\n    return key;\n  } */\n\n\n\n\n       \n\n\n\n\n\n\n\n\n\n\n\n}\n\n\n\n\n\n"],"sourceRoot":"webpack:///","file":"pages-call-users-list-call-users-list-module-es5.js"}